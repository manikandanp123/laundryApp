{"ast":null,"code":"var _jsxFileName = \"/home/pmanikandan/Desktop/python/Laundry-service/front-end/src/ordersComponent/PopUp.js\",\n    _s = $RefreshSig$();\n\nimport \"./modal.css\";\nimport React, { useState, useEffect } from \"react\";\nimport SummaryTable from \"./SummaryTable\";\nimport OrderSucsess from \"./OrderSucsess\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Popup = _ref => {\n  _s();\n\n  let {\n    finaldata,\n    handleClose\n  } = _ref;\n  const [isSucsess, setisSucsess] = useState(false);\n  const [subTotal, setsubTotal] = useState(0);\n  const [finalOrdervalue, setfinalOrderValue] = useState(0);\n  const [totalItems, settotalTtems] = useState(0);\n  const [isadress, setisadress] = useState(false);\n  const [newAddress, setnewAddress] = useState({\n    address: \"#100,3rd Main, 4thcross,RajajiNagar, Bengaluru,560010\"\n  });\n\n  function addNew() {\n    setisadress(true);\n  }\n\n  function handlechange(e) {\n    setnewAddress({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handlesubmit(e) {\n    e.preventDefault();\n    console.log(newAddress);\n    setisadress(false);\n  } // const [Total, setTotal] = useState(0)\n\n\n  useEffect(() => {\n    let totalval = 0;\n    let itemsconut = 0;\n    finaldata.forEach(element => {\n      totalval += element.subprice;\n      itemsconut += +element.quantity;\n    });\n    setsubTotal(totalval);\n    settotalTtems(itemsconut);\n    const deliveryCharge = 90;\n    let finalOrder = totalval + deliveryCharge;\n    setfinalOrderValue(finalOrder);\n  }, []);\n  let orderItems = finaldata;\n  let totalPrice = finalOrdervalue;\n\n  async function sucsessPop() {\n    console.log(finaldata, \"final\");\n    const response = await fetch(\"http://localhost:5000/order/createorder\", {\n      method: 'POST',\n      body: JSON.stringify({\n        orderItems,\n        totalPrice,\n        totalItems\n      }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        \"auth-token\": localStorage.getItem('token')\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (data.sucsess) {\n      setisSucsess(!isSucsess);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-box\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"summary-bar\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"close-icon\",\n          onClick: handleClose,\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"address-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"jp Nagar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-angle-down\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"under-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Store Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Near Phone Booth, 10th Cross\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"+ 91 999 000 99 00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"order-detail\",\n        children: \"Order Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-order\",\n        children: [finaldata.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(SummaryTable, {\n              item: item,\n              setsubTotal: setsubTotal,\n              subTotal: subTotal\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"under-line sum-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-cont\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-total price\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"total :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [subTotal, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-cont\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-total price\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"pickUp Charge:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"90\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" summary-bar  price-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sub-total price-cont price allign\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Rs \", finalOrdervalue]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 1\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"price-line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"address-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 32\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"add-new-address\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"default-add\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"#100,3rd Main, 4thcross, RajajiNagar, Bengaluru,560010\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"default-add\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Other\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [newAddress.address, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 5\n        }, this), isadress ? /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          onSubmit: handlesubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"field reg-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"address\",\n              name: \"address\",\n              onChange: handlechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"under-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add\",\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"add-new\",\n          onClick: addNew,\n          children: \"+ ADD NEW\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"foot\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"con-firm\",\n          type: \"submit\",\n          onClick: sucsessPop,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 1\n        }, this), isSucsess ? /*#__PURE__*/_jsxDEV(OrderSucsess, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 1\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Popup, \"0rda/MV7xYAApBLXlaJ4xBlKy1Q=\");\n\n_c = Popup;\nexport default Popup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Popup\");","map":{"version":3,"sources":["/home/pmanikandan/Desktop/python/Laundry-service/front-end/src/ordersComponent/PopUp.js"],"names":["React","useState","useEffect","SummaryTable","OrderSucsess","Popup","finaldata","handleClose","isSucsess","setisSucsess","subTotal","setsubTotal","finalOrdervalue","setfinalOrderValue","totalItems","settotalTtems","isadress","setisadress","newAddress","setnewAddress","address","addNew","handlechange","e","target","name","value","handlesubmit","preventDefault","console","log","totalval","itemsconut","forEach","element","subprice","quantity","deliveryCharge","finalOrder","orderItems","totalPrice","sucsessPop","response","fetch","method","body","JSON","stringify","headers","localStorage","getItem","data","json","sucsess","map","item","index"],"mappings":"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","sourcesContent":["\n\nimport \"./modal.css\"\n\nimport React,{useState,useEffect} from  \"react\";\nimport SummaryTable from \"./SummaryTable\";\nimport OrderSucsess from \"./OrderSucsess\";\nconst Popup = ({finaldata,handleClose}) => {\n  const [isSucsess, setisSucsess] = useState(false);\n  \n  const [subTotal, setsubTotal] = useState(0)\n  const [finalOrdervalue, setfinalOrderValue] = useState(0)\n  const [totalItems, settotalTtems] = useState(0)\n\n  const [isadress, setisadress] = useState(false);\n  const [newAddress, setnewAddress] = useState({address:\"#100,3rd Main, 4thcross,RajajiNagar, Bengaluru,560010\"})\n  \n  function addNew(){\n    setisadress(true)\n  }\n  function handlechange(e){\n    setnewAddress({[e.target.name]:e.target.value})\n  }\n  function handlesubmit(e){\n    e.preventDefault();\n    console.log(newAddress) \n    setisadress(false) \n  }\n\n\n  \n\n  // const [Total, setTotal] = useState(0)\n  useEffect(() => {\n    let totalval=0\n    let itemsconut=0\n    finaldata.forEach(element => {\n      totalval+=element.subprice\n      itemsconut+=  +element.quantity\n    });\n    setsubTotal(totalval)\n    settotalTtems(itemsconut)\n  const deliveryCharge=90  \n  let finalOrder=totalval+deliveryCharge\n  setfinalOrderValue(finalOrder)\n\n  }, []);\n\n\nlet orderItems=finaldata\nlet totalPrice=finalOrdervalue\nasync function sucsessPop(){\nconsole.log(finaldata,\"final\")\n    const response=  await fetch(\"http://localhost:5000/order/createorder\", {\n  method: 'POST',\n  body: JSON.stringify({orderItems,totalPrice,totalItems}),\n  headers: {\n    'Content-type': 'application/json; charset=UTF-8',\n    \"auth-token\":localStorage.getItem('token')\n  },\n})\n\n  const data= await response.json()\n  console.log(data)\n  if (data.sucsess){\n  setisSucsess(!isSucsess)}\n}\n\n  return (\n\n    <div className=\"popup-box\">\n\n    <div className=\"box\">\n\n    <header className=\"summary-bar\">\n        \n      <p>Summary</p>\n       <p className=\"close-icon\" onClick={handleClose}>x</p>\n     \n    </header>\n\n    <div className=\"address-info\">\n\n    <div className=\"location\">\n      <div>\n      <h4>jp Nagar</h4>\n      <i className=\"fa fa-angle-down\"></i>\n      </div>\n      <div className='under-line'></div>\n    </div>  \n    <div className=\"location\">\n      <h3>Store Address:</h3>\n      <p>Near Phone Booth, 10th Cross</p>\n    </div>\n    <div className=\"location\">\n      <h3>Phone:</h3>\n      <p>+ 91 999 000 99 00</p>\n    </div>\n  </div > \n\n  <h5 className=\"order-detail\">Order Details</h5>\n\n<div className=\"summary-order\">\n{finaldata.map((item,index)=>{\nreturn (<>\n    <SummaryTable item={item} setsubTotal={setsubTotal}  subTotal = {subTotal} key={index} />\n  <div className=\"under-line sum-line\"></div>\n  </>\n    )})}\n\n<div className=\"price-cont\">\n<div className=\"sub-total price\">\n      <p>total :</p>\n      <h3>{subTotal} </h3>\n      </div> \n        <div className=\"price-line\"></div>\n        </div>\n<div className=\"price-cont\">\n<div className=\"sub-total price\">\n      <p>pickUp Charge:</p>\n      <h3>90</h3>\n      </div> \n        <div className=\"price-line\"></div>\n        </div>\n\n\n<div className=\" summary-bar  price-bar\">\n<div className=\"sub-total price-cont price allign\">\n      <p>Total </p>\n      <h3>Rs {finalOrdervalue}</h3>\n      </div> \n        </div>\n\n        </div>  \n  <div className=\"price-line\"></div>\n  \n<div className=\"address-title\"><h4>Address</h4> </div>\n\n<section className=\"add-new-address\">\n   <div className=\"default-add\">\n      <h4>Home</h4>\n       <p>#100,3rd Main, 4thcross,\n         RajajiNagar, Bengaluru,560010\n       </p>\n      </div>\n\n    <div className=\"default-add\">\n      <h4>Other</h4>\n      <p>{newAddress.address} </p> \n      </div>\n      {isadress ? <form action=\"\" onSubmit={handlesubmit}>\n        <div className='field reg-field'>\n          <label htmlFor=\"address\">Address</label>\n          <input type=\"text\" id='address' name=\"address\" onChange={handlechange}/>\n          <div className='under-line'></div>\n          </div>\n          <button className=\"add\" type=\"submit\">Add</button>\n          </form>:  \n      <h4 className=\"add-new\" onClick={addNew}>+ ADD NEW</h4>}\n    </section>\n<footer className=\"foot\">\n<button className=\"con-firm\" type=\"submit\" onClick={sucsessPop}>Confirm</button>\n{isSucsess ?  \n<OrderSucsess/>:\"\"}\n </footer>  \n    </div>\n    </div>\n  );\n};\n \nexport default Popup;\n\n"]},"metadata":{},"sourceType":"module"}